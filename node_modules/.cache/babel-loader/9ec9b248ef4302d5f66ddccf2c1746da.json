{"ast":null,"code":"\"use strict\"; // @ts-nocheck\n\nvar _slicedToArray = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _objectSpread = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _classCallCheck = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _get = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setLayoutEncoder = exports.setLayoutDecoder = exports.accountFlagsLayout = exports.selfTradeBehaviorLayout = exports.orderTypeLayout = exports.sideLayout = exports.VersionedLayout = exports.WideBits = exports.u128 = exports.u64 = exports.publicKeyLayout = exports.zeros = void 0;\n\nvar buffer_layout_1 = require(\"buffer-layout\");\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\n\nvar Zeros = /*#__PURE__*/function (_buffer_layout_1$Blob) {\n  _inherits(Zeros, _buffer_layout_1$Blob);\n\n  var _super = _createSuper(Zeros);\n\n  function Zeros() {\n    _classCallCheck(this, Zeros);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Zeros, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      var slice = _get(_getPrototypeOf(Zeros.prototype), \"decode\", this).call(this, b, offset);\n\n      if (!slice.every(function (v) {\n        return v === 0;\n      })) {\n        throw new Error('nonzero padding bytes');\n      }\n\n      return slice;\n    }\n  }]);\n\n  return Zeros;\n}(buffer_layout_1.Blob);\n\nfunction zeros(length) {\n  return new Zeros(length);\n}\n\nexports.zeros = zeros;\n\nvar PublicKeyLayout = /*#__PURE__*/function (_buffer_layout_1$Blob2) {\n  _inherits(PublicKeyLayout, _buffer_layout_1$Blob2);\n\n  var _super2 = _createSuper(PublicKeyLayout);\n\n  function PublicKeyLayout(property) {\n    _classCallCheck(this, PublicKeyLayout);\n\n    return _super2.call(this, 32, property);\n  }\n\n  _createClass(PublicKeyLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      return new web3_js_1.PublicKey(_get(_getPrototypeOf(PublicKeyLayout.prototype), \"decode\", this).call(this, b, offset));\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      return _get(_getPrototypeOf(PublicKeyLayout.prototype), \"encode\", this).call(this, src.toBuffer(), b, offset);\n    }\n  }]);\n\n  return PublicKeyLayout;\n}(buffer_layout_1.Blob);\n\nfunction publicKeyLayout(property) {\n  return new PublicKeyLayout(property);\n}\n\nexports.publicKeyLayout = publicKeyLayout;\n\nvar BNLayout = /*#__PURE__*/function (_buffer_layout_1$Blob3) {\n  _inherits(BNLayout, _buffer_layout_1$Blob3);\n\n  var _super3 = _createSuper(BNLayout);\n\n  function BNLayout() {\n    _classCallCheck(this, BNLayout);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(BNLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      return new bn_js_1.default(_get(_getPrototypeOf(BNLayout.prototype), \"decode\", this).call(this, b, offset), 10, 'le');\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      return _get(_getPrototypeOf(BNLayout.prototype), \"encode\", this).call(this, src.toArrayLike(Buffer, 'le', this.span), b, offset);\n    }\n  }]);\n\n  return BNLayout;\n}(buffer_layout_1.Blob);\n\nfunction u64(property) {\n  return new BNLayout(8, property);\n}\n\nexports.u64 = u64;\n\nfunction u128(property) {\n  return new BNLayout(16, property);\n}\n\nexports.u128 = u128;\n\nvar WideBits = /*#__PURE__*/function (_buffer_layout_1$Layo) {\n  _inherits(WideBits, _buffer_layout_1$Layo);\n\n  var _super4 = _createSuper(WideBits);\n\n  function WideBits(property) {\n    var _this;\n\n    _classCallCheck(this, WideBits);\n\n    _this = _super4.call(this, 8, property);\n    _this._lower = buffer_layout_1.bits(buffer_layout_1.u32(), false);\n    _this._upper = buffer_layout_1.bits(buffer_layout_1.u32(), false);\n    return _this;\n  }\n\n  _createClass(WideBits, [{\n    key: \"addBoolean\",\n    value: function addBoolean(property) {\n      if (this._lower.fields.length < 32) {\n        this._lower.addBoolean(property);\n      } else {\n        this._upper.addBoolean(property);\n      }\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lowerDecoded = this._lower.decode(b, offset);\n\n      var upperDecoded = this._upper.decode(b, offset + this._lower.span);\n\n      return _objectSpread(_objectSpread({}, lowerDecoded), upperDecoded);\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      return this._lower.encode(src, b, offset) + this._upper.encode(src, b, offset + this._lower.span);\n    }\n  }]);\n\n  return WideBits;\n}(buffer_layout_1.Layout);\n\nexports.WideBits = WideBits;\n\nvar VersionedLayout = /*#__PURE__*/function (_buffer_layout_1$Layo2) {\n  _inherits(VersionedLayout, _buffer_layout_1$Layo2);\n\n  var _super5 = _createSuper(VersionedLayout);\n\n  function VersionedLayout(version, inner, property) {\n    var _this2;\n\n    _classCallCheck(this, VersionedLayout);\n\n    _this2 = _super5.call(this, inner.span > 0 ? inner.span + 1 : inner.span, property);\n    _this2.version = version;\n    _this2.inner = inner;\n    return _this2;\n  }\n\n  _createClass(VersionedLayout, [{\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      // if (b.readUInt8(offset) !== this._version) {\n      //   throw new Error('invalid version');\n      // }\n      return this.inner.decode(b, offset + 1);\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      b.writeUInt8(this.version, offset);\n      return 1 + this.inner.encode(src, b, offset + 1);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return 1 + this.inner.getSpan(b, offset + 1);\n    }\n  }]);\n\n  return VersionedLayout;\n}(buffer_layout_1.Layout);\n\nexports.VersionedLayout = VersionedLayout;\n\nvar EnumLayout = /*#__PURE__*/function (_buffer_layout_1$UInt) {\n  _inherits(EnumLayout, _buffer_layout_1$UInt);\n\n  var _super6 = _createSuper(EnumLayout);\n\n  function EnumLayout(values, span, property) {\n    var _this3;\n\n    _classCallCheck(this, EnumLayout);\n\n    _this3 = _super6.call(this, span, property);\n    _this3.values = values;\n    return _this3;\n  }\n\n  _createClass(EnumLayout, [{\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      if (this.values[src] !== undefined) {\n        return _get(_getPrototypeOf(EnumLayout.prototype), \"encode\", this).call(this, this.values[src], b, offset);\n      }\n\n      throw new Error('Invalid ' + this.property);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(b, offset) {\n      var decodedValue = _get(_getPrototypeOf(EnumLayout.prototype), \"decode\", this).call(this, b, offset);\n\n      var entry = Object.entries(this.values).find(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            value = _ref2[1];\n\n        return value === decodedValue;\n      });\n\n      if (entry) {\n        return entry[0];\n      }\n\n      throw new Error('Invalid ' + this.property);\n    }\n  }]);\n\n  return EnumLayout;\n}(buffer_layout_1.UInt);\n\nfunction sideLayout(property) {\n  return new EnumLayout({\n    buy: 0,\n    sell: 1\n  }, 4, property);\n}\n\nexports.sideLayout = sideLayout;\n\nfunction orderTypeLayout(property) {\n  return new EnumLayout({\n    limit: 0,\n    ioc: 1,\n    postOnly: 2\n  }, 4, property);\n}\n\nexports.orderTypeLayout = orderTypeLayout;\n\nfunction selfTradeBehaviorLayout(property) {\n  return new EnumLayout({\n    decrementTake: 0,\n    cancelProvide: 1,\n    abortTransaction: 2\n  }, 4, property);\n}\n\nexports.selfTradeBehaviorLayout = selfTradeBehaviorLayout;\nvar ACCOUNT_FLAGS_LAYOUT = new WideBits();\nACCOUNT_FLAGS_LAYOUT.addBoolean('initialized');\nACCOUNT_FLAGS_LAYOUT.addBoolean('market');\nACCOUNT_FLAGS_LAYOUT.addBoolean('openOrders');\nACCOUNT_FLAGS_LAYOUT.addBoolean('requestQueue');\nACCOUNT_FLAGS_LAYOUT.addBoolean('eventQueue');\nACCOUNT_FLAGS_LAYOUT.addBoolean('bids');\nACCOUNT_FLAGS_LAYOUT.addBoolean('asks');\n\nfunction accountFlagsLayout() {\n  var property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'accountFlags';\n  return ACCOUNT_FLAGS_LAYOUT.replicate(property);\n}\n\nexports.accountFlagsLayout = accountFlagsLayout;\n\nfunction setLayoutDecoder(layout, decoder) {\n  var originalDecode = layout.decode;\n\n  layout.decode = function decode(b) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return decoder(originalDecode.call(this, b, offset));\n  };\n}\n\nexports.setLayoutDecoder = setLayoutDecoder;\n\nfunction setLayoutEncoder(layout, encoder) {\n  var originalEncode = layout.encode;\n\n  layout.encode = function encode(src, b, offset) {\n    return originalEncode.call(this, encoder(src), b, offset);\n  };\n\n  return layout;\n}\n\nexports.setLayoutEncoder = setLayoutEncoder;","map":null,"metadata":{},"sourceType":"script"}