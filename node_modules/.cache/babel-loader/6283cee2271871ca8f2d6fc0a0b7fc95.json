{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useState}from\"react\";import BN from\"bn.js\";import{WAD,ZERO}from\"../constants\";export var formatPriceNumber=new Intl.NumberFormat(\"en-US\",{style:\"decimal\",minimumFractionDigits:2,maximumFractionDigits:8});export function useLocalStorageState(key,defaultState){var _useState=useState(function(){// NOTE: Not sure if this is ok\nvar storedState=localStorage.getItem(key);if(storedState){return JSON.parse(storedState);}return defaultState;}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var setLocalStorageState=useCallback(function(newState){var changed=state!==newState;if(!changed){return;}setState(newState);if(newState===null){localStorage.removeItem(key);}else{localStorage.setItem(key,JSON.stringify(newState));}},[state,key]);return[state,setLocalStorageState];}// shorten the checksummed version of the input address to have 4 characters at start and end\nexport function shortenAddress(address){var chars=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;return\"\".concat(address.slice(0,chars),\"...\").concat(address.slice(-chars));}export function getTokenName(map,mint){var _map$get;var shorten=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var mintAddress=typeof mint===\"string\"?mint:mint===null||mint===void 0?void 0:mint.toBase58();if(!mintAddress){return\"N/A\";}var knownSymbol=(_map$get=map.get(mintAddress))===null||_map$get===void 0?void 0:_map$get.symbol;if(knownSymbol){return knownSymbol;}return shorten?\"\".concat(mintAddress.substring(0,5),\"...\"):mintAddress;}export function getTokenByName(tokenMap,name){var token=null;var _iterator=_createForOfIteratorHelper(tokenMap.values()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var val=_step.value;if(val.symbol===name){token=val;break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return token;}export function getTokenIcon(map,mintAddress){var _map$get2;var address=typeof mintAddress===\"string\"?mintAddress:mintAddress===null||mintAddress===void 0?void 0:mintAddress.toBase58();if(!address){return;}return(_map$get2=map.get(address))===null||_map$get2===void 0?void 0:_map$get2.logoURI;}export function isKnownMint(map,mintAddress){return!!map.get(mintAddress);}export var STABLE_COINS=new Set([\"USDC\",\"wUSDC\",\"USDT\"]);export function chunks(array,size){return Array.apply(0,new Array(Math.ceil(array.length/size))).map(function(_,index){return array.slice(index*size,(index+1)*size);});}export function toLamports(account,mint){var _account$info$amount;if(!account){return 0;}var amount=typeof account===\"number\"?account:(_account$info$amount=account.info.amount)===null||_account$info$amount===void 0?void 0:_account$info$amount.toNumber();var precision=Math.pow(10,(mint===null||mint===void 0?void 0:mint.decimals)||0);return Math.floor(amount*precision);}export function wadToLamports(amount){return(amount===null||amount===void 0?void 0:amount.div(WAD))||ZERO;}export function fromLamports(account,mint){var rate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1.0;if(!account){return 0;}var amount=Math.floor(typeof account===\"number\"?account:BN.isBN(account)?account.toNumber():account.info.amount.toNumber());var precision=Math.pow(10,(mint===null||mint===void 0?void 0:mint.decimals)||0);return amount/precision*rate;}var SI_SYMBOL=[\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\"];var abbreviateNumber=function abbreviateNumber(number,precision){var tier=Math.log10(number)/3|0;var scaled=number;var suffix=SI_SYMBOL[tier];if(tier!==0){var scale=Math.pow(10,tier*3);scaled=number/scale;}return scaled.toFixed(precision)+suffix;};export var formatAmount=function formatAmount(val){var precision=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var abbr=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;return abbr?abbreviateNumber(val,precision):val.toFixed(precision);};export function formatTokenAmount(account,mint){var rate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1.0;var prefix=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"\";var suffix=arguments.length>4&&arguments[4]!==undefined?arguments[4]:\"\";var precision=arguments.length>5&&arguments[5]!==undefined?arguments[5]:6;var abbr=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(!account){return\"\";}return\"\".concat([prefix]).concat(formatAmount(fromLamports(account,mint,rate),precision,abbr)).concat(suffix);}export var formatUSD=new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"USD\"});export var numberFormatter=new Intl.NumberFormat(\"en-US\",{style:\"decimal\",minimumFractionDigits:2,maximumFractionDigits:2});export var isSmallNumber=function isSmallNumber(val){return val<0.001&&val>0;};export var formatNumber={format:function format(val,useSmall){if(!val){return\"--\";}if(useSmall&&isSmallNumber(val)){return 0.001;}return numberFormatter.format(val);}};export var feeFormatter=new Intl.NumberFormat(\"en-US\",{style:\"decimal\",minimumFractionDigits:2,maximumFractionDigits:9});export var formatPct=new Intl.NumberFormat(\"en-US\",{style:\"percent\",minimumFractionDigits:2,maximumFractionDigits:2});export function convert(account,mint){var _account$info$amount2;var rate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1.0;if(!account){return 0;}var amount=typeof account===\"number\"?account:(_account$info$amount2=account.info.amount)===null||_account$info$amount2===void 0?void 0:_account$info$amount2.toNumber();var precision=Math.pow(10,(mint===null||mint===void 0?void 0:mint.decimals)||0);var result=amount/precision*rate;return result;}","map":null,"metadata":{},"sourceType":"module"}