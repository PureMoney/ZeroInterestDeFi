{"ast":null,"code":"var SemVer = require('../classes/semver');\n\nvar Comparator = require('../classes/comparator');\n\nvar ANY = Comparator.ANY;\n\nvar Range = require('../classes/range');\n\nvar satisfies = require('../functions/satisfies');\n\nvar gt = require('../functions/gt');\n\nvar lt = require('../functions/lt');\n\nvar lte = require('../functions/lte');\n\nvar gte = require('../functions/gte');\n\nvar outside = function outside(version, range, hilo, options) {\n  version = new SemVer(version, options);\n  range = new Range(range, options);\n  var gtfn, ltefn, ltfn, comp, ecomp;\n\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  } // If it satisfies the range it is not outside\n\n\n  if (satisfies(version, range, options)) {\n    return false;\n  } // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n\n  var _loop = function _loop(i) {\n    var comparators = range.set[i];\n    var high = null;\n    var low = null;\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0');\n      }\n\n      high = high || comparator;\n      low = low || comparator;\n\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator;\n      }\n    }); // If the edge version comparator has a operator then our version\n    // isn't outside it\n\n    if (high.operator === comp || high.operator === ecomp) {\n      return {\n        v: false\n      };\n    } // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n\n\n    if ((!low.operator || low.operator === comp) && ltefn(version, low.semver)) {\n      return {\n        v: false\n      };\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return {\n        v: false\n      };\n    }\n  };\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var _ret = _loop(i);\n\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n\n  return true;\n};\n\nmodule.exports = outside;","map":null,"metadata":{},"sourceType":"script"}