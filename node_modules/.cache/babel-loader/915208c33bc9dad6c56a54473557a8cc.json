{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.closeAccount = exports.mintTo = exports.setAuthority = exports.revoke = exports.approve = exports.transfer = exports.initializeAccount = exports.initializeMint = exports.decodeTokenInstructionData = exports.SRM_DECIMALS = exports.SRM_MINT = exports.MSRM_DECIMALS = exports.MSRM_MINT = exports.WRAPPED_SOL_MINT = exports.TOKEN_PROGRAM_ID = exports.CLOSE_ACCOUNT_OWNER_INDEX = exports.CLOSE_ACCOUNT_DESTINATION_INDEX = exports.CLOSE_ACCOUNT_SOURCE_INDEX = exports.TRANSFER_OWNER_INDEX = exports.TRANSFER_DESTINATION_INDEX = exports.TRANSFER_SOURCE_INDEX = exports.INITIALIZE_ACCOUNT_OWNER_INDEX = exports.INITIALIZE_ACCOUNT_MINT_INDEX = exports.INITIALIZE_ACCOUNT_ACCOUNT_INDEX = void 0;\n\nvar BufferLayout = __importStar(require(\"buffer-layout\"));\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar layout_1 = require(\"./layout\"); // NOTE: Update these if the position of arguments for the initializeAccount instruction changes\n\n\nexports.INITIALIZE_ACCOUNT_ACCOUNT_INDEX = 0;\nexports.INITIALIZE_ACCOUNT_MINT_INDEX = 1;\nexports.INITIALIZE_ACCOUNT_OWNER_INDEX = 2; // NOTE: Update these if the position of arguments for the transfer instruction changes\n\nexports.TRANSFER_SOURCE_INDEX = 0;\nexports.TRANSFER_DESTINATION_INDEX = 1;\nexports.TRANSFER_OWNER_INDEX = 2; // NOTE: Update these if the position of arguments for the closeAccount instruction changes\n\nexports.CLOSE_ACCOUNT_SOURCE_INDEX = 0;\nexports.CLOSE_ACCOUNT_DESTINATION_INDEX = 1;\nexports.CLOSE_ACCOUNT_OWNER_INDEX = 2;\nexports.TOKEN_PROGRAM_ID = new web3_js_1.PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');\nexports.WRAPPED_SOL_MINT = new web3_js_1.PublicKey('So11111111111111111111111111111111111111112');\nexports.MSRM_MINT = new web3_js_1.PublicKey('MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L');\nexports.MSRM_DECIMALS = 0;\nexports.SRM_MINT = new web3_js_1.PublicKey('SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt');\nexports.SRM_DECIMALS = 6;\nvar LAYOUT = BufferLayout.union(BufferLayout.u8('instruction'));\nLAYOUT.addVariant(0, BufferLayout.struct([BufferLayout.u8('decimals'), layout_1.publicKeyLayout('mintAuthority'), BufferLayout.u8('freezeAuthorityOption'), layout_1.publicKeyLayout('freezeAuthority')]), 'initializeMint');\nLAYOUT.addVariant(1, BufferLayout.struct([]), 'initializeAccount');\nLAYOUT.addVariant(3, BufferLayout.struct([BufferLayout.nu64('amount')]), 'transfer');\nLAYOUT.addVariant(4, BufferLayout.struct([BufferLayout.nu64('amount')]), 'approve');\nLAYOUT.addVariant(5, BufferLayout.struct([]), 'revoke');\nLAYOUT.addVariant(6, BufferLayout.struct([BufferLayout.u8('authorityType'), BufferLayout.u8('newAuthorityOption'), layout_1.publicKeyLayout('newAuthority')]), 'setAuthority');\nLAYOUT.addVariant(7, BufferLayout.struct([BufferLayout.nu64('amount')]), 'mintTo');\nLAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.nu64('amount')]), 'burn');\nLAYOUT.addVariant(9, BufferLayout.struct([]), 'closeAccount');\nvar instructionMaxSpan = Math.max.apply(Math, _toConsumableArray(Object.values(LAYOUT.registry).map(function (r) {\n  return r.span;\n})));\n\nfunction encodeTokenInstructionData(instruction) {\n  var b = Buffer.alloc(instructionMaxSpan);\n  var span = LAYOUT.encode(instruction, b);\n  return b.slice(0, span);\n}\n\nfunction decodeTokenInstructionData(instruction) {\n  return LAYOUT.decode(instruction);\n}\n\nexports.decodeTokenInstructionData = decodeTokenInstructionData;\n\nfunction initializeMint(_ref) {\n  var mint = _ref.mint,\n      decimals = _ref.decimals,\n      mintAuthority = _ref.mintAuthority,\n      _ref$freezeAuthority = _ref.freezeAuthority,\n      freezeAuthority = _ref$freezeAuthority === void 0 ? null : _ref$freezeAuthority;\n  var keys = [{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n    isSigner: false,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      initializeMint: {\n        decimals: decimals,\n        mintAuthority: mintAuthority,\n        freezeAuthorityOption: !!freezeAuthority,\n        freezeAuthority: freezeAuthority || new web3_js_1.PublicKey(0)\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.initializeMint = initializeMint;\n\nfunction initializeAccount(_ref2) {\n  var account = _ref2.account,\n      mint = _ref2.mint,\n      owner = _ref2.owner;\n  var keys = [{\n    pubkey: account,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: mint,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: owner,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n    isSigner: false,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      initializeAccount: {}\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.initializeAccount = initializeAccount;\n\nfunction transfer(_ref3) {\n  var source = _ref3.source,\n      destination = _ref3.destination,\n      amount = _ref3.amount,\n      owner = _ref3.owner;\n  var keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: destination,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      transfer: {\n        amount: amount\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.transfer = transfer;\n\nfunction approve(_ref4) {\n  var source = _ref4.source,\n      delegate = _ref4.delegate,\n      amount = _ref4.amount,\n      owner = _ref4.owner;\n  var keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: delegate,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      approve: {\n        amount: amount\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.approve = approve;\n\nfunction revoke(_ref5) {\n  var source = _ref5.source,\n      owner = _ref5.owner;\n  var keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      revoke: {}\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.revoke = revoke;\n\nfunction setAuthority(_ref6) {\n  var target = _ref6.target,\n      currentAuthority = _ref6.currentAuthority,\n      newAuthority = _ref6.newAuthority,\n      authorityType = _ref6.authorityType;\n  var keys = [{\n    pubkey: target,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: currentAuthority,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      setAuthority: {\n        authorityType: authorityType,\n        newAuthorityOption: !!newAuthority,\n        newAuthority: newAuthority\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.setAuthority = setAuthority;\n\nfunction mintTo(_ref7) {\n  var mint = _ref7.mint,\n      destination = _ref7.destination,\n      amount = _ref7.amount,\n      mintAuthority = _ref7.mintAuthority;\n  var keys = [{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: destination,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: mintAuthority,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      mintTo: {\n        amount: amount\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.mintTo = mintTo;\n\nfunction closeAccount(_ref8) {\n  var source = _ref8.source,\n      destination = _ref8.destination,\n      owner = _ref8.owner;\n  var keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: destination,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys: keys,\n    data: encodeTokenInstructionData({\n      closeAccount: {}\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.closeAccount = closeAccount;","map":null,"metadata":{},"sourceType":"script"}