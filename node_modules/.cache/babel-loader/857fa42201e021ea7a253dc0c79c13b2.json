{"ast":null,"code":"import _regeneratorRuntime from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import EventEmitter from'eventemitter3';import{notify}from\"../../utils/notifications\";export var PhantomWalletAdapter=/*#__PURE__*/function(_EventEmitter){_inherits(PhantomWalletAdapter,_EventEmitter);var _super=_createSuper(PhantomWalletAdapter);function PhantomWalletAdapter(){var _this;_classCallCheck(this,PhantomWalletAdapter);_this=_super.call(this);_this._handleConnect=function(){var _this2;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}(_this2=_this).emit.apply(_this2,['connect'].concat(args));};_this._handleDisconnect=function(){var _this3;for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}(_this3=_this).emit.apply(_this3,['disconnect'].concat(args));};_this.connect=_this.connect.bind(_assertThisInitialized(_this));return _this;}_createClass(PhantomWalletAdapter,[{key:\"signAllTransactions\",// eslint-disable-next-line\nvalue:function(){var _signAllTransactions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(transactions){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this._provider){_context.next=2;break;}return _context.abrupt(\"return\",transactions);case 2:return _context.abrupt(\"return\",this._provider.signAllTransactions(transactions));case 3:case\"end\":return _context.stop();}}},_callee,this);}));function signAllTransactions(_x){return _signAllTransactions.apply(this,arguments);}return signAllTransactions;}()},{key:\"signTransaction\",// eslint-disable-next-line\nvalue:function(){var _signTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(transaction){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(this._provider){_context2.next=2;break;}return _context2.abrupt(\"return\",transaction);case 2:return _context2.abrupt(\"return\",this._provider.signTransaction(transaction));case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function signTransaction(_x2){return _signTransaction.apply(this,arguments);}return signTransaction;}()},{key:\"connect\",value:function connect(){var _this$_provider3;if(!this._provider){return;}if(!window.solana.isPhantom){notify({message:\"Phantom Error\",description:\"Please install Phantom wallet from Chrome \"});return;}if(this._provider&&!this._provider.listeners('connect').length){var _this$_provider;(_this$_provider=this._provider)===null||_this$_provider===void 0?void 0:_this$_provider.on('connect',this._handleConnect);}if(!this._provider.listeners('disconnect').length){var _this$_provider2;(_this$_provider2=this._provider)===null||_this$_provider2===void 0?void 0:_this$_provider2.on('disconnect',this._handleDisconnect);}return(_this$_provider3=this._provider)===null||_this$_provider3===void 0?void 0:_this$_provider3.connect();}},{key:\"disconnect\",value:function disconnect(){if(this._provider){this._provider.disconnect();}}},{key:\"_provider\",get:function get(){var _ref,_ref$solana;if((_ref=window)===null||_ref===void 0?void 0:(_ref$solana=_ref.solana)===null||_ref$solana===void 0?void 0:_ref$solana.isPhantom){return window.solana;}return undefined;}},{key:\"connected\",get:function get(){var _this$_provider4;return((_this$_provider4=this._provider)===null||_this$_provider4===void 0?void 0:_this$_provider4.isConnected)||false;}},{key:\"autoApprove\",get:function get(){var _this$_provider5;return((_this$_provider5=this._provider)===null||_this$_provider5===void 0?void 0:_this$_provider5.autoApprove)||false;}},{key:\"publicKey\",get:function get(){var _this$_provider6;return(_this$_provider6=this._provider)===null||_this$_provider6===void 0?void 0:_this$_provider6.publicKey;}}]);return PhantomWalletAdapter;}(EventEmitter);","map":null,"metadata":{},"sourceType":"module"}