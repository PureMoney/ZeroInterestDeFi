{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _defineProperty = require(\"/home/ctapang/dapp-scaffold/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _exports$KNOWN_PROGRA;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseInstructionErrorResponse = exports.KNOWN_PROGRAMS = exports.DexError = void 0;\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar tokens_and_markets_1 = require(\"./tokens_and_markets\");\n\nvar token_instructions_1 = require(\"./token-instructions\");\n\nvar DexError;\n\n(function (DexError) {\n  DexError[DexError[\"InvalidMarketFlags\"] = 0] = \"InvalidMarketFlags\";\n  DexError[DexError[\"InvalidAskFlags\"] = 1] = \"InvalidAskFlags\";\n  DexError[DexError[\"InvalidBidFlags\"] = 2] = \"InvalidBidFlags\";\n  DexError[DexError[\"InvalidQueueLength\"] = 3] = \"InvalidQueueLength\";\n  DexError[DexError[\"OwnerAccountNotProvided\"] = 4] = \"OwnerAccountNotProvided\";\n  DexError[DexError[\"ConsumeEventsQueueFailure\"] = 5] = \"ConsumeEventsQueueFailure\";\n  DexError[DexError[\"WrongCoinVault\"] = 6] = \"WrongCoinVault\";\n  DexError[DexError[\"WrongPcVault\"] = 7] = \"WrongPcVault\";\n  DexError[DexError[\"WrongCoinMint\"] = 8] = \"WrongCoinMint\";\n  DexError[DexError[\"WrongPcMint\"] = 9] = \"WrongPcMint\";\n  DexError[DexError[\"CoinVaultProgramId\"] = 10] = \"CoinVaultProgramId\";\n  DexError[DexError[\"PcVaultProgramId\"] = 11] = \"PcVaultProgramId\";\n  DexError[DexError[\"CoinMintProgramId\"] = 12] = \"CoinMintProgramId\";\n  DexError[DexError[\"PcMintProgramId\"] = 13] = \"PcMintProgramId\";\n  DexError[DexError[\"WrongCoinMintSize\"] = 14] = \"WrongCoinMintSize\";\n  DexError[DexError[\"WrongPcMintSize\"] = 15] = \"WrongPcMintSize\";\n  DexError[DexError[\"WrongCoinVaultSize\"] = 16] = \"WrongCoinVaultSize\";\n  DexError[DexError[\"WrongPcVaultSize\"] = 17] = \"WrongPcVaultSize\";\n  DexError[DexError[\"UninitializedVault\"] = 18] = \"UninitializedVault\";\n  DexError[DexError[\"UninitializedMint\"] = 19] = \"UninitializedMint\";\n  DexError[DexError[\"CoinMintUninitialized\"] = 20] = \"CoinMintUninitialized\";\n  DexError[DexError[\"PcMintUninitialized\"] = 21] = \"PcMintUninitialized\";\n  DexError[DexError[\"WrongMint\"] = 22] = \"WrongMint\";\n  DexError[DexError[\"WrongVaultOwner\"] = 23] = \"WrongVaultOwner\";\n  DexError[DexError[\"VaultHasDelegate\"] = 24] = \"VaultHasDelegate\";\n  DexError[DexError[\"AlreadyInitialized\"] = 25] = \"AlreadyInitialized\";\n  DexError[DexError[\"WrongAccountDataAlignment\"] = 26] = \"WrongAccountDataAlignment\";\n  DexError[DexError[\"WrongAccountDataPaddingLength\"] = 27] = \"WrongAccountDataPaddingLength\";\n  DexError[DexError[\"WrongAccountHeadPadding\"] = 28] = \"WrongAccountHeadPadding\";\n  DexError[DexError[\"WrongAccountTailPadding\"] = 29] = \"WrongAccountTailPadding\";\n  DexError[DexError[\"RequestQueueEmpty\"] = 30] = \"RequestQueueEmpty\";\n  DexError[DexError[\"EventQueueTooSmall\"] = 31] = \"EventQueueTooSmall\";\n  DexError[DexError[\"SlabTooSmall\"] = 32] = \"SlabTooSmall\";\n  DexError[DexError[\"BadVaultSignerNonce\"] = 33] = \"BadVaultSignerNonce\";\n  DexError[DexError[\"InsufficientFunds\"] = 34] = \"InsufficientFunds\";\n  DexError[DexError[\"SplAccountProgramId\"] = 35] = \"SplAccountProgramId\";\n  DexError[DexError[\"SplAccountLen\"] = 36] = \"SplAccountLen\";\n  DexError[DexError[\"WrongFeeDiscountAccountOwner\"] = 37] = \"WrongFeeDiscountAccountOwner\";\n  DexError[DexError[\"WrongFeeDiscountMint\"] = 38] = \"WrongFeeDiscountMint\";\n  DexError[DexError[\"CoinPayerProgramId\"] = 39] = \"CoinPayerProgramId\";\n  DexError[DexError[\"PcPayerProgramId\"] = 40] = \"PcPayerProgramId\";\n  DexError[DexError[\"ClientIdNotFound\"] = 41] = \"ClientIdNotFound\";\n  DexError[DexError[\"TooManyOpenOrders\"] = 42] = \"TooManyOpenOrders\";\n  DexError[DexError[\"FakeErrorSoWeDontChangeNumbers\"] = 43] = \"FakeErrorSoWeDontChangeNumbers\";\n  DexError[DexError[\"BorrowError\"] = 44] = \"BorrowError\";\n  DexError[DexError[\"WrongOrdersAccount\"] = 45] = \"WrongOrdersAccount\";\n  DexError[DexError[\"WrongBidsAccount\"] = 46] = \"WrongBidsAccount\";\n  DexError[DexError[\"WrongAsksAccount\"] = 47] = \"WrongAsksAccount\";\n  DexError[DexError[\"WrongRequestQueueAccount\"] = 48] = \"WrongRequestQueueAccount\";\n  DexError[DexError[\"WrongEventQueueAccount\"] = 49] = \"WrongEventQueueAccount\";\n  DexError[DexError[\"RequestQueueFull\"] = 50] = \"RequestQueueFull\";\n  DexError[DexError[\"EventQueueFull\"] = 51] = \"EventQueueFull\";\n  DexError[DexError[\"MarketIsDisabled\"] = 52] = \"MarketIsDisabled\";\n  DexError[DexError[\"WrongSigner\"] = 53] = \"WrongSigner\";\n  DexError[DexError[\"TransferFailed\"] = 54] = \"TransferFailed\";\n  DexError[DexError[\"ClientOrderIdIsZero\"] = 55] = \"ClientOrderIdIsZero\";\n  DexError[DexError[\"WrongRentSysvarAccount\"] = 56] = \"WrongRentSysvarAccount\";\n  DexError[DexError[\"RentNotProvided\"] = 57] = \"RentNotProvided\";\n  DexError[DexError[\"OrdersNotRentExempt\"] = 58] = \"OrdersNotRentExempt\";\n  DexError[DexError[\"OrderNotFound\"] = 59] = \"OrderNotFound\";\n  DexError[DexError[\"OrderNotYours\"] = 60] = \"OrderNotYours\";\n  DexError[DexError[\"WouldSelfTrade\"] = 61] = \"WouldSelfTrade\";\n  DexError[DexError[\"Unknown\"] = 1000] = \"Unknown\";\n})(DexError = exports.DexError || (exports.DexError = {}));\n\nexports.KNOWN_PROGRAMS = (_exports$KNOWN_PROGRA = {}, _defineProperty(_exports$KNOWN_PROGRA, token_instructions_1.TOKEN_PROGRAM_ID.toString(), 'Token program'), _defineProperty(_exports$KNOWN_PROGRA, web3_js_1.SystemProgram.programId.toString(), 'System program'), _exports$KNOWN_PROGRA);\n\nfunction parseInstructionErrorResponse(transaction, errorResponse) {\n  var _errorResponse = _slicedToArray(errorResponse, 2),\n      failedInstructionIndex = _errorResponse[0],\n      customError = _errorResponse[1];\n\n  var failedInstruction = transaction.instructions[failedInstructionIndex];\n  var parsedError;\n\n  if (failedInstruction.programId.toString() in tokens_and_markets_1.PROGRAM_LAYOUT_VERSIONS) {\n    parsedError = DexError[customError['Custom']];\n  } else if (failedInstruction.programId.toString() in exports.KNOWN_PROGRAMS) {\n    var program = exports.KNOWN_PROGRAMS[failedInstruction.programId.toString()];\n    parsedError = \"\".concat(program, \" error \").concat(customError['Custom']);\n  } else {\n    parsedError = \"Unknown program \".concat(failedInstruction.programId.toString(), \" custom error: \").concat(customError['Custom']);\n  }\n\n  return {\n    failedInstructionIndex: failedInstructionIndex,\n    error: parsedError,\n    failedProgram: failedInstruction.programId.toString()\n  };\n}\n\nexports.parseInstructionErrorResponse = parseInstructionErrorResponse;","map":null,"metadata":{},"sourceType":"script"}